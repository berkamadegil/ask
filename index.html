function Gallery({ photos }) {
  const [selected, setSelected] = useState(null);
  const [isPreview, setIsPreview] = useState(false);
  const [pressTimer, setPressTimer] = useState(null);

  const handlePressStart = (photo) => {
    const timer = setTimeout(() => {
      setSelected(photo);
      setIsPreview(true);
    }, 1500); // 1.5 saniye basılı tutma
    setPressTimer(timer);
  };

  const handlePressEnd = (photo) => {
    if (pressTimer) {
      clearTimeout(pressTimer);
      if (!isPreview) {
        // kısa tıklama → direkt aç
        setSelected(photo);
        setIsPreview(true);
      }
    }
  };

  return (
    <div className="grid grid-cols-2 gap-y-6 gap-x-4 place-items-center">
      {photos.map((photo, i) => (
        <img
          key={i}
          src={photo}
          alt={`gallery-${i}`}
          className="w-full max-w-xs rounded-lg shadow-md cursor-pointer object-cover"
          onMouseDown={() => handlePressStart(photo)}
          onMouseUp={() => handlePressEnd(photo)}
          onTouchStart={() => handlePressStart(photo)}
          onTouchEnd={() => handlePressEnd(photo)}
        />
      ))}

      {/* Önizleme Modal */}
      {selected && (
        <div className="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity duration-500">
          <div className="relative max-w-3xl w-full">
            <img
              src={selected}
              alt="preview"
              className={`w-full h-auto rounded-lg shadow-2xl transform transition-opacity duration-500 ${
                isPreview ? "opacity-100" : "opacity-0"
              }`}
            />
            {/* Geri Butonu */}
            <button
              className="absolute top-4 right-4 bg-black bg-opacity-60 text-white p-2 rounded-full hover:bg-opacity-80 transition"
              onClick={() => {
                setIsPreview(false);
                setTimeout(() => setSelected(null), 500); // fade out süresi
              }}
            >
              ⬅
            </button>
          </div>
        </div>
      )}
    </div>
  );
}
